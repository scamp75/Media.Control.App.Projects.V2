<Window x:Class="Media.Control.App.ManagerBa.View.ConfigWindowView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Media.Control.App.ManagerBa.View"
        xmlns:local1="clr-namespace:Media.Control.App.ManagerBa"
        xmlns:Model="clr-namespace:Media.Control.App.ManagerBa.Model"
        xmlns:system="clr-namespace:System;assembly=mscorlib"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:materialDesignConverters="clr-namespace:MaterialDesignThemes.Wpf.Converters;assembly=MaterialDesignThemes.Wpf"
        WindowStyle="None"
        mc:Ignorable="d"
        Title="Config.Window" Height="1400" Width="750"
         ResizeMode="NoResize"
        Loaded="Window_Loaded"
        Background="Transparent"
        AllowsTransparency="True" 
        BorderBrush="Transparent"
        BorderThickness="0"
        TextElement.Foreground="{DynamicResource MaterialDesign.Brush.Foreground}">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Button.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.CheckBox.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.ListBox.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.PopupBox.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.RadioButton.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.SplitButton.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.TextBlock.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.ToggleButton.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.DataGrid.xaml" />

            </ResourceDictionary.MergedDictionaries>

            <SolidColorBrush x:Key="ButtonBackColor" Color="#FF373734"/>
            <SolidColorBrush x:Key="ButtonBorderColor" Color="#FF52524E"/>
            <SolidColorBrush x:Key="PanleColor" Color="#333333"/>
            <SolidColorBrush x:Key="TitleColor" Color="#FF1E1E1F"/>


            <Style x:Key ="TextDefaulStyle" TargetType="TextBlock">
                <Setter Property="Background" Value="#FF3C3C3C"/>
                <Setter Property="FontSize" Value="16"/>
                <Setter Property="Foreground" Value="#FFA5A5A5"/>
                <Setter Property="FontWeight" Value="Bold"/>
            </Style>

            <Style x:Key ="TextBoxDefaulStyle" TargetType="TextBox">
                <Setter Property="Background" Value="#FF777777"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="Foreground" Value="WhiteSmoke"/>
                <Setter Property="VerticalContentAlignment" Value="Center"/>
                <Setter Property="HorizontalContentAlignment" Value="Center"/>
            </Style>

            <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
            <Model:StringToBoolConverter x:Key="StringToBoolConverter"/>
            
        </ResourceDictionary>

    </Window.Resources>

    <Grid Background ="{DynamicResource  MaterialDesign.Brush.Background}">
        <StackPanel Orientation="Vertical">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="{Binding GridRow2Heigth}"/>
                    <RowDefinition />
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Margin="0,6,0,6" >
                    <!-- ======================================================================================================= -->
                    <!-- Engine/Channel Setting -->
                    <!-- ======================================================================================================= -->

                    <TabControl >
                        <TabItem Header="Engine/Channel" Background="{DynamicResource  MaterialDesignShadowBrush}">
                            <Grid  Height="1200" Background="{DynamicResource  MaterialDesignDarkSeparatorBackground }">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="50"/>
                                    <RowDefinition Height="260"/>
                                    <RowDefinition Height="350"/>
                                    <RowDefinition Height="280"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!--<StackPanel Grid.Row="0" Grid.Column="2" Orientation="Horizontal" >-->
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Engine :" Foreground="WhiteSmoke" Margin="15" FontSize="12" HorizontalAlignment="Right" VerticalAlignment="Center" />
                                <ComboBox Grid.Column="1" HorizontalAlignment="Left"
                                    x:Name="ComEngineType" Width="150" Height="35" Foreground="WhiteSmoke"
                                    IsEnabled="{Binding IsChecked, ElementName=OutlinedComboBoxEnabledCheckBox}"
                                    ItemsSource="{Binding EngineTypeList}"
                                    SelectedItem="{Binding SelectEnaginType}"
                                    Style="{StaticResource MaterialDesignFloatingHintComboBox}" />

                                <!--</StackPanel>-->

                                <GroupBox Grid.Row="1" Grid.ColumnSpan="2" Margin="10" Header="AMMP Setting"  
                                          Foreground="WhiteSmoke" 
                                          Style="{StaticResource  MaterialDesignCardGroupBox}" FontSize="12">
                                    <GroupBox.HeaderTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <materialDesign:PackIcon Width="28" Height="28" VerticalAlignment="Center" Kind="Blur" />
                                                <TextBlock Margin="8,0,0,0" VerticalAlignment="Center" Style="{StaticResource MaterialDesignTitleSmallTextBlock}"
                                                           Foreground="{StaticResource TitleColor}" Text="{Binding}" />
                                            </StackPanel>
                                        </DataTemplate>
                                    </GroupBox.HeaderTemplate>

                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="10"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="120"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Row="1" Grid.Column="0" Text="PlatformUrl :" TextAlignment="Right" Margin="10"  />
                                        <TextBox Grid.Row="1" Grid.Column="1" x:Name="txtPlatformUrl" Text="{Binding PlatformUrl, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                        <TextBlock Grid.Row="2" Grid.Column="0" Text="ApiKey :" TextAlignment="Right" Margin="10" />
                                        <TextBox Grid.Row="2" Grid.Column="1" x:Name="txtApiKey" Text="{Binding ApiKey , Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                        <TextBlock Grid.Row="3" Grid.Column="0" Text="WorkNode :" TextAlignment="Right" Margin="10" />
                                        <TextBox Grid.Row="3" Grid.Column="1" x:Name="txtWorkNode" Text="{Binding WorkNode , Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                        <TextBlock Grid.Row="4" Grid.Column="0" Text="Fabric :" TextAlignment="Right" Margin="10" />
                                        <TextBox Grid.Row="4" Grid.Column="1" x:Name="txtFabric" Text="{Binding Fabric , Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                    </Grid>


                                </GroupBox>

                                <GroupBox Grid.Row="2" Grid.ColumnSpan="2" Margin="10" Header="Channel Setting" Style="{StaticResource  MaterialDesignCardGroupBox}" FontSize="12">
                                    <GroupBox.HeaderTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <materialDesign:PackIcon Width="28" Height="28" VerticalAlignment="Center" Kind="Blur" />
                                                <TextBlock Margin="8,0,0,0" VerticalAlignment="Center" Style="{StaticResource MaterialDesignTitleSmallTextBlock}" Foreground="{StaticResource TitleColor}" Text="{Binding}" />
                                            </StackPanel>
                                        </DataTemplate>

                                    </GroupBox.HeaderTemplate>

                                    <Grid >
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="10"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="40"/>
                                        </Grid.RowDefinitions>
                                       

                                        <DataGrid Grid.Row="1" Grid.ColumnSpan="5" Margin="0,15,0,0"
                                            materialDesign:DataGridAssist.CellPadding="4 2 2 2"
                                            materialDesign:DataGridAssist.ColumnHeaderPadding="4 2 2 2"
                                            AutoGenerateColumns="False"
                                            CanUserAddRows="False"
                                            SelectionMode="Single"
                                            SelectionUnit="FullRow"
                                            FontSize="12"     
                                            SelectedItem="{Binding SelectedChannelItem}" 
                                            ItemsSource="{Binding ChannelSettingList}" >

                                            <DataGrid.Columns>

                                                <materialDesign:DataGridTextColumn Width="80" Header="Channel" >
                                                    <DataGridTextColumn.HeaderStyle>
                                                        <Style TargetType="{x:Type DataGridColumnHeader}"
                                                            BasedOn="{StaticResource MaterialDesignDataGridColumnHeader }">
                                                            <Setter Property="ContentTemplate">
                                                                <Setter.Value>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="FontSize" Value="14"/>
                                                            <Setter Property="Height" Value="40"/>
                                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.HeaderStyle>

                                                    <materialDesign:DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                            <Setter Property="TextAlignment" Value="Center"/>
                                                            <Setter Property="Height" Value="25"/>
                                                        </Style>

                                                    </materialDesign:DataGridTextColumn.ElementStyle>

                                                    <materialDesign:DataGridTextColumn.Binding>
                                                        <Binding Path="Channel">
                                                        </Binding>
                                                    </materialDesign:DataGridTextColumn.Binding>
                                                </materialDesign:DataGridTextColumn>

                                                <materialDesign:DataGridComboBoxColumn
                                                    Width="80"
                                                    Header="Type"
                                                    IsEditable="True"
                                                    materialDesign:HintAssist.Hint="TypeList"
                                                    ItemsSourceBinding="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type DataGrid}}, Path=DataContext.ChannelTypeList}"
                                                    SelectedValueBinding="{Binding ChannelType}">

                                                    <DataGridComboBoxColumn.HeaderStyle>
                                                        <Style TargetType="{x:Type DataGridColumnHeader}"
                                                        BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                            <Setter Property="ContentTemplate">
                                                                <Setter.Value>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="FontSize" Value="14"/>
                                                            <Setter Property="Height" Value="40"/>

                                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridComboBoxColumn.HeaderStyle>
                                                </materialDesign:DataGridComboBoxColumn>


                                                <materialDesign:DataGridTextColumn Width="100" Header="Name" >

                                                    <DataGridTextColumn.HeaderStyle>
                                                        <Style TargetType="{x:Type DataGridColumnHeader}"
                                                            BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                            <Setter Property="ContentTemplate">
                                                                <Setter.Value>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="FontSize" Value="14"/>
                                                            <Setter Property="Height" Value="40"/>

                                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.HeaderStyle>


                                                    <materialDesign:DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                            <Setter Property="TextAlignment" Value="Center"/>
                                                        </Style>
                                                    </materialDesign:DataGridTextColumn.ElementStyle>
                                                    <materialDesign:DataGridTextColumn.Binding>
                                                        <Binding Path="Name" Mode="TwoWay">
                                                        </Binding>
                                                    </materialDesign:DataGridTextColumn.Binding>
                                                </materialDesign:DataGridTextColumn>

                                                <materialDesign:DataGridTextColumn Width="230" Header="WorkLoad1" >
                                                    <DataGridTextColumn.HeaderStyle>
                                                        <Style TargetType="{x:Type DataGridColumnHeader}"
                                                            BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                            <Setter Property="ContentTemplate">
                                                                <Setter.Value>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="FontSize" Value="14"/>
                                                            <Setter Property="Height" Value="40"/>

                                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.HeaderStyle>


                                                    <materialDesign:DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                            <Setter Property="TextAlignment" Value="Left"/>
                                                        </Style>
                                                    </materialDesign:DataGridTextColumn.ElementStyle>
                                                    <materialDesign:DataGridTextColumn.Binding>
                                                        <Binding Path="WorkLoad1">
                                                        </Binding>
                                                    </materialDesign:DataGridTextColumn.Binding>
                                                </materialDesign:DataGridTextColumn>


                                                <materialDesign:DataGridTextColumn Width="230" Header="WorkLoad2" >
                                                    <DataGridTextColumn.HeaderStyle>
                                                        <Style TargetType="{x:Type DataGridColumnHeader}"
                                                            BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                            <Setter Property="ContentTemplate">
                                                                <Setter.Value>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="FontSize" Value="14"/>
                                                            <Setter Property="Height" Value="40"/>

                                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.HeaderStyle>


                                                    <materialDesign:DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                            <Setter Property="TextAlignment" Value="Left"/>
                                                        </Style>
                                                    </materialDesign:DataGridTextColumn.ElementStyle>
                                                    <materialDesign:DataGridTextColumn.Binding>
                                                        <Binding Path="WorkLoad2">
                                                        </Binding>
                                                    </materialDesign:DataGridTextColumn.Binding>
                                                </materialDesign:DataGridTextColumn>

                                                <!--<materialDesign:DataGridTextColumn Width="230" Header="Workload2" >
                                                    <DataGridTextColumn.HeaderStyle>
                                                        <Style TargetType="{x:Type DataGridColumnHeader}"
                                                             BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                            <Setter Property="ContentTemplate">
                                                                <Setter.Value>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="FontSize" Value="14"/>
                                                            <Setter Property="Height" Value="40"/>

                                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.HeaderStyle>


                                                    <materialDesign:DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                            <Setter Property="TextAlignment" Value="Left"/>
                                                        </Style>
                                                    </materialDesign:DataGridTextColumn.ElementStyle>
                                                    <materialDesign:DataGridTextColumn.Binding>
                                                        <Binding Path="Workload2"  Mode="TwoWay" >
                                                        </Binding>
                                                    </materialDesign:DataGridTextColumn.Binding>
                                                </materialDesign:DataGridTextColumn>-->
                                                
                                            </DataGrid.Columns>
                                        </DataGrid>

                                        <StackPanel Grid.Row="2" Grid.ColumnSpan="5" Orientation="Horizontal">
                                            <Button Grid.ColumnSpan="3" Margin="250,5,0,0" FontWeight="Bold" Foreground="{StaticResource ButtonBackColor}" Content="Add Channel" FontSize="12" Height="30" 
                                                Style="{DynamicResource MaterialDesignRaisedDarkButton}" Width="120" Command="{Binding Command_AddChannel}"/>
                                            <Button Grid.Row="2" Grid.ColumnSpan="5" Margin="5,5,0,0" FontWeight="Bold" Foreground="{StaticResource ButtonBackColor}" Content="Delete Channel" FontSize="12" Height="30" 
                                                Style="{DynamicResource MaterialDesignRaisedDarkButton}" Width="120" Command="{Binding Command_DeleteChannel}"/>

                                        </StackPanel>
                                        
                                        
                                    </Grid>

                                </GroupBox>
                                
                                <GroupBox Grid.Row="3" Grid.ColumnSpan="2" Margin="10" Header="Overlay Setting" Style="{StaticResource  MaterialDesignCardGroupBox}" FontSize="12">
                                    <GroupBox.HeaderTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <materialDesign:PackIcon Width="28" Height="28" VerticalAlignment="Center" Kind="Blur" />
                                                <TextBlock Margin="8,0,0,0" VerticalAlignment="Center" Style="{StaticResource MaterialDesignTitleSmallTextBlock}" Foreground="{StaticResource TitleColor}" Text="{Binding}" />
                                            </StackPanel>
                                        </DataTemplate>

                                    </GroupBox.HeaderTemplate>

                                    <Grid >
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="35"/>
                                            <RowDefinition Height="*"/>
                                            
                                        </Grid.RowDefinitions>

                                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Overlay Type :" 
                                                   FontSize="12" FontWeight="Bold" Margin="5"
                                                   HorizontalAlignment="Left" Foreground="WhiteSmoke"/>
                                        
                                        <ComboBox Name="comOverlaySetting" Width="150" Height="30" 
                                                  HorizontalAlignment="Left" Margin="100,0,0,10" 
                                                  ItemsSource="{Binding OverlayItemsMode }"
                                                  Style="{StaticResource MaterialDesignFloatingHintComboBox}"
                                                  SelectedItem="{Binding SelectOverlaySetting}"/>


                                        <!--<Border Grid.Row="1" Grid.ColumnSpan="5"
                                                Visibility = "{Binding SelectOverlaySetting,
                                                Converter={StaticResource BooleanToVisibilityConverter}}">
                                            
                                            <DataGrid 
                                                 materialDesign:DataGridAssist.CellPadding="4 2 2 2"
                                                 materialDesign:DataGridAssist.ColumnHeaderPadding="4 2 2 2"
                                                 AutoGenerateColumns="False"
                                                 CanUserAddRows="False"
                                                 SelectionMode="Single"
                                                 SelectionUnit="FullRow"
                                                 FontSize="12"      
       
                                                 SelectedItem="{Binding SelectedNDIFilter, Mode=TwoWay}" 
                                                 ItemsSource="{Binding NDIFiltersList}" >

                                                <DataGrid.Columns>

                                                    <materialDesign:DataGridTextColumn Width="80" Header="Channel" >
                                                        <DataGridTextColumn.HeaderStyle>
                                                            <Style TargetType="{x:Type DataGridColumnHeader}"
                                                                BasedOn="{StaticResource MaterialDesignDataGridColumnHeader }">
                                                                <Setter Property="ContentTemplate">
                                                                    <Setter.Value>
                                                                        <DataTemplate>
                                                                            <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                        </DataTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="FontSize" Value="14"/>
                                                                <Setter Property="Height" Value="40"/>
                                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                            </Style>
                                                        </DataGridTextColumn.HeaderStyle>

                                                        <materialDesign:DataGridTextColumn.ElementStyle>
                                                            <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                                <Setter Property="TextAlignment" Value="Center"/>
                                                                <Setter Property="Height" Value="25"/>
                                                            </Style>

                                                        </materialDesign:DataGridTextColumn.ElementStyle>

                                                        <materialDesign:DataGridTextColumn.Binding>
                                                            <Binding Path="Channel">
                                                            </Binding>
                                                        </materialDesign:DataGridTextColumn.Binding>
                                                    </materialDesign:DataGridTextColumn>

                                                    <materialDesign:DataGridComboBoxColumn
                                                             Width="500"
                                                             Header="NDI Output"
                                                             IsEditable="True"
                                                             materialDesign:HintAssist.Hint="NDI Output"
                                                             ItemsSourceBinding="{Binding RelativeSource={RelativeSource FindAncestor
                                                                    , AncestorType={x:Type DataGrid}}, Path=DataContext.VideoFilterList}"
                                                             SelectedItemBinding="{Binding NDIFilter, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  >     

                                                        <DataGridComboBoxColumn.HeaderStyle>
                                                            <Style TargetType="{x:Type DataGridColumnHeader}"
                                                                BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                                <Setter Property="ContentTemplate">
                                                                    <Setter.Value>
                                                                        <DataTemplate>
                                                                            <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                        </DataTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="FontSize" Value="14"/>
                                                                <Setter Property="Height" Value="40"/>

                                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                            </Style>
                                                        </DataGridComboBoxColumn.HeaderStyle>

                                                    </materialDesign:DataGridComboBoxColumn>


                                                </DataGrid.Columns>
                                            </DataGrid>
                                        </Border>-->
                                        
                                        
                                        <!--///////////////////////////////////////////////////////////////////////-->
                                        
                                        
                                        <Border Grid.Row="1" Grid.ColumnSpan="5" >
                                            
                                            <DataGrid
                                                materialDesign:DataGridAssist.CellPadding="4 2 2 2"
                                                materialDesign:DataGridAssist.ColumnHeaderPadding="4 2 2 2"
                                                AutoGenerateColumns="False"
                                                CanUserAddRows="False"
                                                SelectionMode="Single"
                                                SelectionUnit="FullRow"
                                                FontSize="12"      
                                                SelectedItem="{Binding SelectedDeckLinkFilter, Mode=TwoWay}" 
                                                ItemsSource="{Binding OverlayFiltersList}" >

                                                <DataGrid.Columns>

                                                    <materialDesign:DataGridTextColumn Width="100" Header="Channel" >
                                                        <DataGridTextColumn.HeaderStyle>
                                                            <Style TargetType="{x:Type DataGridColumnHeader}"
                                                            BasedOn="{StaticResource MaterialDesignDataGridColumnHeader }">
                                                                <Setter Property="ContentTemplate">
                                                                    <Setter.Value>
                                                                        <DataTemplate>
                                                                            <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                        </DataTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="FontSize" Value="14"/>
                                                                <Setter Property="Height" Value="40"/>
                                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                            </Style>
                                                        </DataGridTextColumn.HeaderStyle>

                                                        <materialDesign:DataGridTextColumn.ElementStyle>
                                                            <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                                <Setter Property="TextAlignment" Value="Center"/>
                                                                <Setter Property="Height" Value="25"/>
                                                            </Style>

                                                        </materialDesign:DataGridTextColumn.ElementStyle>

                                                        <materialDesign:DataGridTextColumn.Binding>
                                                            <Binding Path="Channel">
                                                            </Binding>
                                                        </materialDesign:DataGridTextColumn.Binding>
                                                    </materialDesign:DataGridTextColumn>


                                                    <!--<materialDesign:DataGridTextColumn Width="150" Header="OverlayMode" >
                                                        <DataGridTextColumn.HeaderStyle>
                                                            <Style TargetType="{x:Type DataGridColumnHeader}"
                                                                    BasedOn="{StaticResource MaterialDesignDataGridColumnHeader }">
                                                                <Setter Property="ContentTemplate">
                                                                    <Setter.Value>
                                                                        <DataTemplate>
                                                                            <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                        </DataTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="FontSize" Value="14"/>
                                                                <Setter Property="Height" Value="40"/>
                                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                            </Style>
                                                        </DataGridTextColumn.HeaderStyle>

                                                        <materialDesign:DataGridTextColumn.ElementStyle>
                                                            <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                                <Setter Property="TextAlignment" Value="Center"/>
                                                                <Setter Property="Height" Value="25"/>
                                                            </Style>

                                                        </materialDesign:DataGridTextColumn.ElementStyle>

                                                        <materialDesign:DataGridTextColumn.Binding>
                                                            <Binding Path="OverlayMode">
                                                            </Binding>
                                                        </materialDesign:DataGridTextColumn.Binding>
                                                    </materialDesign:DataGridTextColumn>-->

                                                    <materialDesign:DataGridComboBoxColumn
                                                         Width="60"
                                                         Header="Overlay"
                                                         IsEditable="True"
                                                         materialDesign:HintAssist.Hint="OverlayMode"
                                                         ItemsSourceBinding="{Binding RelativeSource={RelativeSource FindAncestor
                                                                , AncestorType={x:Type DataGrid}}, Path=DataContext.OverlayModeList}"
                                                         SelectedItemBinding="{Binding OverlayMode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">


                                                        <DataGridComboBoxColumn.HeaderStyle>
                                                            <Style TargetType="{x:Type DataGridColumnHeader}"
                                                                    BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                                <Setter Property="ContentTemplate">
                                                                    <Setter.Value>
                                                                        <DataTemplate>
                                                                            <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                        </DataTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="FontSize" Value="14"/>
                                                                <Setter Property="Height" Value="40"/>

                                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                            </Style>
                                                        </DataGridComboBoxColumn.HeaderStyle>

                                                    </materialDesign:DataGridComboBoxColumn>


                                                    <materialDesign:DataGridComboBoxColumn
                                                            Width="180"
                                                            Header="VideoFilter"
                                                            IsEditable="True"
                                                            materialDesign:HintAssist.Hint="VideoFilter"
                                                            ItemsSourceBinding="{Binding RelativeSource={RelativeSource FindAncestor
                                                                   , AncestorType={x:Type DataGrid}}, Path=DataContext.VideoFilterList}"
                                                            SelectedItemBinding="{Binding VideoFilter, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  
                                                           >


                                                        <DataGridComboBoxColumn.HeaderStyle>
                                                            <Style TargetType="{x:Type DataGridColumnHeader}"
                                                                    BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                                <Setter Property="ContentTemplate">
                                                                    <Setter.Value>
                                                                        <DataTemplate>
                                                                            <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                        </DataTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="FontSize" Value="14"/>
                                                                <Setter Property="Height" Value="40"/>

                                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                            </Style>
                                                        </DataGridComboBoxColumn.HeaderStyle>

                                                    </materialDesign:DataGridComboBoxColumn>

                                                    <materialDesign:DataGridComboBoxColumn
                                                             Width="180"
                                                             Header="AudioFilter"
                                                             IsEditable="True"
                                                             materialDesign:HintAssist.Hint="AudioFilter"
                                                             ItemsSourceBinding="{Binding RelativeSource={RelativeSource FindAncestor
                                                                    , AncestorType={x:Type DataGrid}}, Path=DataContext.AudioFilterList}"
                                                             SelectedValueBinding="{Binding AudioFilter, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                            >


                                                        <DataGridComboBoxColumn.HeaderStyle>
                                                            <Style TargetType="{x:Type DataGridColumnHeader}"
                                                                BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                                <Setter Property="ContentTemplate">
                                                                    <Setter.Value>
                                                                        <DataTemplate>
                                                                            <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                        </DataTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="FontSize" Value="14"/>
                                                                <Setter Property="Height" Value="40"/>

                                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                            </Style>
                                                        </DataGridComboBoxColumn.HeaderStyle>
                                                    </materialDesign:DataGridComboBoxColumn>


                                                    <materialDesign:DataGridComboBoxColumn
                                                            Width="180"
                                                            Header="NDIFilter"
                                                            IsEditable="True"
                                                            materialDesign:HintAssist.Hint="NDIFilter"
                                                            ItemsSourceBinding="{Binding RelativeSource={RelativeSource FindAncestor
                                                                , AncestorType={x:Type DataGrid}}, Path=DataContext.NDIFilterList}"
                                                            SelectedValueBinding="{Binding NDIFilter, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                            Visibility = "{Binding SelectOverlaySetting
                                                                , Converter={StaticResource BooleanToVisibilityConverter}
                                                                , ConverterParameter={x:Static Model:EnuOverlayMode.NDI}}">    


                                                        <DataGridComboBoxColumn.HeaderStyle>
                                                            <Style TargetType="{x:Type DataGridColumnHeader}"
                                                            BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                                <Setter Property="ContentTemplate">
                                                                    <Setter.Value>
                                                                        <DataTemplate>
                                                                            <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                        </DataTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="FontSize" Value="14"/>
                                                                <Setter Property="Height" Value="40"/>

                                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                            </Style>
                                                        </DataGridComboBoxColumn.HeaderStyle>
                                                    </materialDesign:DataGridComboBoxColumn>

                                                </DataGrid.Columns>

                                            </DataGrid>
                                        </Border>
                                        
                                    </Grid>

                                </GroupBox>
                                   


                                <GroupBox Grid.Row="4" Grid.ColumnSpan="2" Margin="10" Header="InPut Setting" 
                                          Style="{StaticResource  MaterialDesignCardGroupBox}" FontSize="12">
                                    <GroupBox.HeaderTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <materialDesign:PackIcon Width="28" Height="28" VerticalAlignment="Center" Kind="Blur" />
                                                <TextBlock Margin="8,0,0,0" VerticalAlignment="Center" 
                                                           Style="{StaticResource MaterialDesignTitleSmallTextBlock}"
                                                           Foreground="{StaticResource TitleColor}" Text="{Binding}" />
                                            </StackPanel>
                                        </DataTemplate>

                                    </GroupBox.HeaderTemplate>

                                    <Grid >
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="40"/>
                                        </Grid.RowDefinitions>

                                        <ListBox ItemsSource="{Binding InputSettingList}" 
                                                 Background="{StaticResource PanleColor}" 
                                                 SelectedItem="{Binding InputSelectItem}" Height="auto">
                                            <ListBox.ItemTemplate>
                                                <DataTemplate>
                                                    <StackPanel Orientation="Horizontal">
                                                        <TextBlock Text="{Binding InputName, UpdateSourceTrigger=PropertyChanged}" FontWeight="Bold" />
                                                    </StackPanel>
                                                </DataTemplate>
                                            </ListBox.ItemTemplate>

                                        </ListBox>

                                        <StackPanel Grid.Row="3" Grid.ColumnSpan="5" Orientation="Horizontal">
                                            <TextBox x:Name="InputNmae" Text="{Binding InputName, Mode=TwoWay}"
                                                     Margin="0,3,2,2"
                                                     Width="300" Background="{StaticResource ButtonBackColor}"/>
                                            <Button Grid.ColumnSpan="3" Margin="160,5,0,0" FontWeight="Bold" Foreground="{StaticResource ButtonBackColor}" Content="Add Input" FontSize="12" Height="30" 
                                            Style="{DynamicResource MaterialDesignRaisedDarkButton}" Width="120" Command="{Binding Command_AddInput}"/>
                                            <Button Grid.Row="2" Grid.ColumnSpan="5" Margin="5,5,0,0" FontWeight="Bold" Foreground="{StaticResource ButtonBackColor}" Content="Delete Input" FontSize="12" Height="30" 
                                            Style="{DynamicResource MaterialDesignRaisedDarkButton}" Width="120" Command="{Binding Command_DeleteInput}"/>

                                        </StackPanel>
                                    </Grid>

                                </GroupBox>


                             

                            </Grid>

                        </TabItem>

                        <!-- ======================================================================================================= -->
                        <!-- Control Setting -->
                        <!-- ======================================================================================================= -->

                        <TabItem Header="Control" Background="{DynamicResource MaterialDesignShadowBrush}">
                            <Grid  Height="700" Background="{DynamicResource  MaterialDesignDarkSeparatorBackground}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="230"/>
                                    <RowDefinition Height="360"/>
                                    <RowDefinition Height="230"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <GroupBox Grid.Row="0" Grid.ColumnSpan="2" Margin="10,10,10,220" Header="Recorder Setting"  Foreground="WhiteSmoke"
                                        Style="{StaticResource  MaterialDesignCardGroupBox}" FontSize="12" Grid.RowSpan="2">
                                    <GroupBox.HeaderTemplate>
                                        <DataTemplate >
                                            <StackPanel Orientation="Horizontal">
                                                <materialDesign:PackIcon Width="28" Height="28" VerticalAlignment="Center" Kind="Blur" />
                                                <TextBlock Margin="8,0,0,0" VerticalAlignment="Center" 
                                                 Style="{StaticResource  MaterialDesignTitleSmallTextBlock}" 
                                                           Foreground="{StaticResource TitleColor}" Text="{Binding}" />
                                                <!--<TextBox Margin="10,0,0,0" Width="80" Text="{Binding PlayerGangPort}" Style="{StaticResource MaterialDesignTextBox}" VerticalAlignment="Center" />-->
                                            </StackPanel>
                                        </DataTemplate>
                                    </GroupBox.HeaderTemplate>

                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="35"/>
                                            <RowDefinition Height="35"/>
                                            <RowDefinition Height="35"/>
                                            <RowDefinition Height="35"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="120"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Row="0" Grid.Column="0" Margin="10" TextAlignment="Right" Text="Gang Port :" 
                                                   Style="{StaticResource MaterialDesignCaptionTextBlock}"  Foreground="WhiteSmoke" VerticalAlignment="Center" />
                                        <TextBox  Grid.Row="0" Grid.Column="1"  Margin="0,0,0,5" HorizontalContentAlignment="Center"
                                                  Text="{Binding RecorderGangPort, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Left" Width="100"/>

                                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Default Name :" TextAlignment="Right" Margin="10"  />
                                        <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding DefaultRcName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Default Folder :" TextAlignment="Right" Margin="10"  />
                                        <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding DefaultReFolder, Mode=TwoWay}"/>

                                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Record Offset :" TextAlignment="Right" Margin="10"  />
                                        <TextBox Grid.Row="3" Grid.Column="1" Margin="0,0,0,5" Text="{Binding RecordOffset, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" HorizontalContentAlignment="Center" Width="100" HorizontalAlignment="Left"/>

                                    </Grid>
                                </GroupBox>


                                <GroupBox Grid.Row="1" Grid.ColumnSpan="2" Margin="10,19,10,1" Header="Player Setting"  Foreground="WhiteSmoke"
                                        Style="{StaticResource  MaterialDesignCardGroupBox}" FontSize="12">
                                    <GroupBox.HeaderTemplate>
                                        <DataTemplate >
                                            <StackPanel Orientation="Horizontal">
                                                <materialDesign:PackIcon Width="28" Height="28" VerticalAlignment="Center" Kind="Blur" />
                                                <TextBlock Margin="8,0,0,0" VerticalAlignment="Center"
                                                    Style="{StaticResource MaterialDesignTitleSmallTextBlock}" Foreground="{StaticResource TitleColor}" Text="{Binding}" />
                                            </StackPanel>
                                        </DataTemplate>
                                    </GroupBox.HeaderTemplate>

                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="35"/>
                                            <RowDefinition Height="200"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="35"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="120"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>


                                        <TextBlock Grid.Row="0" Grid.Column="0" Margin="5" TextAlignment="Right" Text="Gang Port :" 
                                                   Style="{StaticResource MaterialDesignCaptionTextBlock}"  Foreground="WhiteSmoke" VerticalAlignment="Center" />
                                        <TextBox  Grid.Row="0" Grid.Column="1" Margin="0,0,0,5"
                                                  Text="{Binding PlayerGangPort, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" HorizontalContentAlignment="Center" HorizontalAlignment="Left" Width="100"/>


                                        <DataGrid Grid.Row="1" Grid.ColumnSpan="5" Margin="0,15,0,0"
                                            materialDesign:DataGridAssist.CellPadding="4 2 2 2"
                                            materialDesign:DataGridAssist.ColumnHeaderPadding="4 2 2 2"
                                            AutoGenerateColumns="False"
                                            CanUserAddRows="False"
                                            SelectionMode="Single"
                                            SelectionUnit="FullRow"
                                            FontSize="12"      
                                            SelectedItem="{Binding SelectedPlayerItem, Mode=TwoWay}" 
                                            ItemsSource="{Binding PlayerCleancutList}" >        

                                            <DataGrid.Columns>

                                                <materialDesign:DataGridTextColumn Width="100" Header="Channel" >
                                                    <DataGridTextColumn.HeaderStyle>
                                                        <Style TargetType="{x:Type DataGridColumnHeader}"
                                                            BasedOn="{StaticResource MaterialDesignDataGridColumnHeader }">
                                                            <Setter Property="ContentTemplate">
                                                                <Setter.Value>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="FontSize" Value="14"/>
                                                            <Setter Property="Height" Value="40"/>
                                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.HeaderStyle>

                                                    <materialDesign:DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                            <Setter Property="TextAlignment" Value="Center"/>
                                                            <Setter Property="Height" Value="25"/>
                                                        </Style>

                                                    </materialDesign:DataGridTextColumn.ElementStyle>

                                                    <materialDesign:DataGridTextColumn.Binding>
                                                        <Binding Path="Channel">
                                                        </Binding>
                                                    </materialDesign:DataGridTextColumn.Binding>
                                                </materialDesign:DataGridTextColumn>


                                                <materialDesign:DataGridTextColumn Width="500" Header="Cleancut" >
                                                    <DataGridTextColumn.HeaderStyle>
                                                        <Style TargetType="{x:Type DataGridColumnHeader}"
                                                            BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                            <Setter Property="ContentTemplate">
                                                                <Setter.Value>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="FontSize" Value="14"/>
                                                            <Setter Property="Height" Value="40"/>

                                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.HeaderStyle>


                                                    <materialDesign:DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                            <Setter Property="TextAlignment" Value="Left"/>
                                                        </Style>
                                                    </materialDesign:DataGridTextColumn.ElementStyle>
                                                    <materialDesign:DataGridTextColumn.Binding>
                                                        <Binding Path="Cleancut">
                                                        </Binding>
                                                    </materialDesign:DataGridTextColumn.Binding>
                                                </materialDesign:DataGridTextColumn>

                                                <!--<materialDesign:DataGridTextColumn Width="300" Header="Port#2" >
                                                    <DataGridTextColumn.HeaderStyle>
                                                        <Style TargetType="{x:Type DataGridColumnHeader}"
                                                            BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                            <Setter Property="ContentTemplate">
                                                                <Setter.Value>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="FontSize" Value="14"/>
                                                            <Setter Property="Height" Value="40"/>

                                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.HeaderStyle>


                                                    <materialDesign:DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                            <Setter Property="TextAlignment" Value="Left"/>
                                                        </Style>
                                                    </materialDesign:DataGridTextColumn.ElementStyle>
                                                    <materialDesign:DataGridTextColumn.Binding>
                                                        <Binding Path="Port2">
                                                        </Binding>
                                                    </materialDesign:DataGridTextColumn.Binding>
                                                </materialDesign:DataGridTextColumn>-->

                                            </DataGrid.Columns>
                                        </DataGrid>
                                        
                                        <StackPanel Grid.Row="2" Grid.ColumnSpan="5" Orientation="Horizontal">
                                            <Button Grid.ColumnSpan="3" Margin="250,5,0,0" FontWeight="Bold" 
                                                    Foreground="{StaticResource ButtonBackColor}"
                                                    Content="Add Item" FontSize="12" Height="30" 
                                                    Style="{DynamicResource MaterialDesignRaisedDarkButton}" 
                                                    Width="120" Command="{Binding Command_AddItem}"/>
                                            <Button Grid.Row="2" Grid.ColumnSpan="5" Margin="5,5,0,0" FontWeight="Bold" 
                                                    Foreground="{StaticResource ButtonBackColor}"
                                                    Content="Delete Item" FontSize="12" Height="30" 
                                                Style="{DynamicResource MaterialDesignRaisedDarkButton}" 
                                                    Width="120" Command="{Binding Command_DeleteItem}"/>

                                        </StackPanel>

                                    </Grid>
                                </GroupBox>

                                <GroupBox Grid.Row="2" Grid.ColumnSpan="2" Margin="10" Header="MediaView Setting"  Foreground="WhiteSmoke"
                                    Style="{StaticResource  MaterialDesignCardGroupBox}" FontSize="12">
                                    <GroupBox.HeaderTemplate>
                                        <DataTemplate >
                                            <StackPanel Orientation="Horizontal">
                                                <materialDesign:PackIcon Width="28" Height="28" VerticalAlignment="Center" Kind="Blur" />
                                                <TextBlock Margin="8,0,0,0" VerticalAlignment="Center" Foreground="{StaticResource TitleColor}"
                                                    Style="{StaticResource MaterialDesignTitleSmallTextBlock}" Text="{Binding}" />
                                            </StackPanel>
                                        </DataTemplate>
                                    </GroupBox.HeaderTemplate>

                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="10"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="120"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Url :" TextAlignment="Right" Margin="10"  />
                                        <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding MediaUrl, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                        <TextBlock Grid.Row="2" Grid.Column="0" Text="ApiKey :" TextAlignment="Right" Margin="10"  />
                                        <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding MediaApiKey, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                        <TextBlock Grid.Row="3" Grid.Column="0" Text="WorkNode :" TextAlignment="Right" Margin="10"  />
                                        <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding MediaWorkNode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                    </Grid>
                                </GroupBox>

                            </Grid>
                        </TabItem>

                        <!-- ======================================================================================================= -->
                        <!-- General Setting -->
                        <!-- ======================================================================================================= -->

                        <TabItem Header="Hot Key" Background="{DynamicResource MaterialDesignShadowBrush}">
                            <Grid Height="922" Background="{DynamicResource  MaterialDesignDarkSeparatorBackground}">

                                <GroupBox Margin="10,10,10,10" Header="HotKey Setting" Style="{StaticResource  MaterialDesignCardGroupBox}" FontSize="12">
                                    <GroupBox.HeaderTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <materialDesign:PackIcon Width="28" Height="28" VerticalAlignment="Center" Kind="Blur" />
                                                <TextBlock Margin="8,0,0,0" VerticalAlignment="Center" Style="{StaticResource MaterialDesignTitleSmallTextBlock}" Foreground="{StaticResource TitleColor}" Text="{Binding}" />
                                            </StackPanel>
                                        </DataTemplate>
                                    </GroupBox.HeaderTemplate>

                                    <Grid >
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="10"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>

                                        <DataGrid x:Name="HotkeyGridList" Grid.Row="1" Margin="0,15,0,0"
                                             materialDesign:DataGridAssist.CellPadding="4 2 2 2"
                                             materialDesign:DataGridAssist.ColumnHeaderPadding="4 2 2 2"
                                             AutoGenerateColumns="False"
                                             CanUserAddRows="False"
                                             SelectionMode="Single"
                                             SelectionUnit="FullRow"
                                             FontSize="12"      
                                             PreviewKeyUp="HotkeyGridList_PreviewKeyUp"
                                             PreviewKeyDown="DataGrid_PreviewKeyDown"
                                             SelectedCellsChanged="DataGrid_SelectedCellsChanged"
                                             PreviewTextInput="HotkeyGridList_PreviewTextInput"     
                                             SelectedItem="{Binding SelectedChannelItem, Mode=TwoWay}" 
                                             ItemsSource="{Binding HotKeyDefinList}" >

                                            <DataGrid.Columns>

                                                <materialDesign:DataGridTextColumn Width="150" Header="Type" IsReadOnly="True" >
                                                    <DataGridTextColumn.HeaderStyle>
                                                        <Style TargetType="{x:Type DataGridColumnHeader}"
                                                            BasedOn="{StaticResource MaterialDesignDataGridColumnHeader }">
                                                            <Setter Property="ContentTemplate">
                                                                <Setter.Value>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="FontSize" Value="14"/>
                                                            <Setter Property="Height" Value="40"/>
                                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.HeaderStyle>

                                                    <materialDesign:DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                            <Setter Property="TextAlignment" Value="Center"/>
                                                            <Setter Property="Height" Value="25"/>
                                                            <Setter Property="FontWeight" Value="Bold"/>
                                                        </Style>

                                                    </materialDesign:DataGridTextColumn.ElementStyle>

                                                    <materialDesign:DataGridTextColumn.Binding>
                                                        <Binding Path="Key">
                                                        </Binding>
                                                    </materialDesign:DataGridTextColumn.Binding>
                                                </materialDesign:DataGridTextColumn>

                                                <materialDesign:DataGridTextColumn Width="*" Header="Value"  >

                                                    <DataGridTextColumn.HeaderStyle>
                                                        <Style TargetType="{x:Type DataGridColumnHeader}"
                                                            BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                            <Setter Property="ContentTemplate">
                                                                <Setter.Value>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding}" TextAlignment="Center" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="FontSize" Value="14"/>
                                                            <Setter Property="Height" Value="40"/>

                                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.HeaderStyle>


                                                    <materialDesign:DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                            <Setter Property="TextAlignment" Value="Center"/>
                                                            <Setter Property="FontWeight" Value="Bold"/>
                                                        </Style>
                                                    </materialDesign:DataGridTextColumn.ElementStyle>

                                                    <materialDesign:DataGridTextColumn.Binding>
                                                        <Binding Path="Value">
                                                        </Binding>
                                                    </materialDesign:DataGridTextColumn.Binding>
                                                </materialDesign:DataGridTextColumn>


                                                <DataGridTemplateColumn>
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <Button Content="Clean" Margin="2,0,0,0" Click="Button_Click"/>
                                                            <!--<Button Content="Clean" Margin="2,0,0,0" Command="{Binding Commnd_KeyClean}"/>-->
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                </DataGridTemplateColumn>

                                                <!--<DataGridTextColumn Width="50" Header="Clear" IsReadOnly="True">
                                                    
                                                    <DataGridTextColumn.HeaderStyle>
                                                        <Style TargetType="{x:Type DataGridColumnHeader}"
                                                            BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                            <Setter Property="ContentTemplate">
                                                                <Setter.Value>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding}" TextAlignment="Left" TextWrapping="Wrap" />
                                                                    </DataTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="FontSize" Value="14"/>
                                                            <Setter Property="Height" Value="40"/>

                                                            <Setter Property="HorizontalContentAlignment" Value="Left" />
                                                        </Style>
                                                    </DataGridTextColumn.HeaderStyle>
                                                </DataGridTextColumn>-->

                                            </DataGrid.Columns>
                                        </DataGrid>

                                        <!--<Button Grid.Row="2" Grid.Column="2" Margin="0,5,0,0" FontWeight="Bold" Foreground="#FFEDD7BA" Content="Add Channel" FontSize="11" Height="25" 
                                            Style="{DynamicResource MaterialDesignRaisedDarkButton}" Width="120" Command="{Binding Command_AddChannel}"/>
                                        <Button Grid.Row="2" Grid.Column="3" Margin="0,5,0,0" FontWeight="Bold" Foreground="#FFB0F9F9" Content="Delete Channel" FontSize="11" Height="25" 
                                            Style="{DynamicResource MaterialDesignRaisedDarkButton}" Width="120" Command="{Binding Command_DeleteChannel}"/>-->

                                    </Grid>

                                </GroupBox>



                            </Grid>
                        </TabItem>

                    </TabControl>

                </StackPanel>
                <StackPanel Grid.Row="1" Orientation="Horizontal" 
                            Background="Transparent" FocusManager.IsFocusScope="True" 
                            FocusManager.FocusedElement="{Binding RelativeSource={RelativeSource Self}}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="280"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                    </Grid>

                    <Button x:Name="butSave" Command="{Binding Command_Save}" Grid.Column="0" Width="80"
                        Content="Save" FontSize="12" FontWeight="Bold" Margin="10,0,0,0" 
                        IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                    Style="{StaticResource MaterialDesignFlatLightButton}"/>

                    <Button x:Name="butClose" Click="butClose_Click" Grid.Column="1" Width="80"
                            Content="Close" FontSize="12" FontWeight="Bold" Margin="10,0,0,0" 
                            IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                    Style="{StaticResource MaterialDesignFlatLightButton}" />

                </StackPanel>
                


                
                <!--<Button x:Name="butClose"  Command="{Binding Command_Close}" Grid.Row="1" Content="Close" FontSize="14" FontWeight="Bold" IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"-->
                <!--Style="{StaticResource MaterialDesignFlatLightButton}" Margin="318,0,202,4"/>-->

            </Grid>
        </StackPanel>
    </Grid>
</Window>
